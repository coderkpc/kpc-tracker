{"code":"/*\r\n * @Author: 柯芃丞 kepengcheng314@163.com\r\n * @Date: 2022-09-10 13:26:00\r\n * @Description: 页面访问量，PageView，每次对网站的访问均被记录\r\n * 主要监听history和hash\r\n *\r\n */\r\nexport const createHistoryEvent = (type) => {\r\n    // 获取原始函数\r\n    const origin = history[type];\r\n    // 返回一个高阶函数\r\n    return function () {\r\n        // 调用原始函数\r\n        const res = origin.apply(this, arguments);\r\n        // 1. 自定义一个事件\r\n        const e = new Event(type);\r\n        // 2. 派发事件\r\n        window.dispatchEvent(e);\r\n        // 返回原始结果\r\n        return res;\r\n    };\r\n};\r\n","references":[]}
